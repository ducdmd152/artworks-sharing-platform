@page
@model User.Pages.Creator.ArtworkListModel
@{    
}
<div class="container p-0 mb-4" style="margin-top: 76px;">
    <div class="filter-panel">
        <form method="post">            
            <div class="form-row mb-3">
                <div class="d-flex align-items-center">
                    <span>
                        Today
                    </span>
                    <div class="mx-3">
                        <input name="DateFilter" value="@Model.Today" type="radio" class="btn ms-0" onclick="clearDateInput()" checked="@(Model.SearchPayload.SearchCondition.CreatedDate != null && Model.DateFilter == null && Model.SearchPayload.SearchCondition.CreatedDate.Value.DayOfWeek == Model.Today.DayOfWeek)" />
                    </div>
                    <span>
                        Yesterday
                    </span>
                    <div class="mx-3">
                        <input name="DateFilter" value="@Model.Today.AddDays(-1)" type="radio" class="btn" onclick="clearDateInput()" checked="@(Model.SearchPayload.SearchCondition.CreatedDate != null && Model.DateFilter == null && Model.SearchPayload.SearchCondition.CreatedDate.Value.DayOfWeek == Model.Today.AddDays(-1).DayOfWeek)" />
                    </div>
                    <span>
                        Last7Date
                    </span>
                    <div class="mx-3">
                        <input name="DateFilter" value="@Model.Today.AddDays(-7)" type="radio" class="btn" onclick="clearDateInput()" checked="@(Model.SearchPayload.SearchCondition.CreatedDate != null && Model.DateFilter == null && Model.SearchPayload.SearchCondition.CreatedDate.Value.DayOfWeek == Model.Today.AddDays(-7).DayOfWeek)" />
                    </div>
                    <span>
                        Last30Date
                    </span>
                    <div class="ms-3">
                        <input name="DateFilter" value="@Model.Today.AddDays(-30)" type="radio" class="btn" onclick="clearDateInput()" checked="@(Model.SearchPayload.SearchCondition.CreatedDate != null && Model.DateFilter == null && Model.SearchPayload.SearchCondition.CreatedDate.Value.DayOfWeek == Model.Today.AddDays(-30).DayOfWeek)" />
                    </div>                    
                    <input type="date" name="CustomFilterDate" class="form-control d-inline-block w-auto mx-3" onchange="clearRadioButtons()" value="@(Model.DateFilter?.ToString("yyyy-MM-dd"))" asp-for="@Model.DateFilter">
                </div>
            </div>            
            <div class="form-row">
                <div class="d-inline-flex mb-3 me-5">
                    <div class="label d-flex align-items-center me-3 p-1 px-3">
                        <span>
                            Title
                        </span>
                    </div>
                    <div style="width: 522px;">
                        <input asp-for="@Model.SearchPayload.SearchCondition.Title" type="text" class="form-control form-control-sm py-2" placeholder="Title">
                    </div>
                </div>
                <div class="d-flex align-content-center mb-3">
                    <div class="label d-flex align-items-center me-3 p-1 px-3">
                        <span>
                            Status
                        </span>
                    </div>
                    <select name="PostStatus" class="custom-select custom-select-sm p-2 h-100 me-3" style="border-radius:2px;">
                        <option selected>Status</option>
                        <option value="@Model.PostStatusPending" selected="@(Model.SearchPayload.SearchCondition.PostStatus != null && Model.SearchPayload.SearchCondition.PostStatus == Model.PostStatusPending)">Pending</option>
                        <option value="@Model.PostStatusApproval" selected="@(Model.SearchPayload.SearchCondition.PostStatus != null && Model.SearchPayload.SearchCondition.PostStatus == Model.PostStatusApproval)">Approval</option>
                        <option value="@Model.PostStatusReject" selected="@(Model.SearchPayload.SearchCondition.PostStatus != null && Model.SearchPayload.SearchCondition.PostStatus == Model.PostStatusReject)">Reject</option>
                        <option value="@Model.PostStatusRepending" selected="@(Model.SearchPayload.SearchCondition.PostStatus != null && Model.SearchPayload.SearchCondition.PostStatus == Model.PostStatusRepending)">Repending</option>
                    </select>

                    <div class="label d-flex align-items-center me-3 p-1 px-3">
                        <span>
                            Scope
                        </span>
                    </div>
                    <select name="PostScope" class="custom-select custom-select-sm p-2 h-100 me-3" style="border-radius:2px;">
                        <option selected>Scope</option>
                        <option value="@Model.PostScopePublic" selected="@(Model.SearchPayload.SearchCondition.PostScope != null && Model.SearchPayload.SearchCondition.PostScope == Model.PostScopePublic)">Public</option>
                        <option value="@Model.PostScopeSubscriber" selected="@(Model.SearchPayload.SearchCondition.PostScope != null && Model.SearchPayload.SearchCondition.PostScope == Model.PostScopeSubscriber)">Subscriber</option>
                        <option value="@Model.PostScopePrivate" selected="@(Model.SearchPayload.SearchCondition.PostScope != null && Model.SearchPayload.SearchCondition.PostScope == Model.PostScopePrivate)">Private</option>
                    </select>

                    <div class="label d-flex align-items-center me-3 p-1 px-3">
                        <span>
                            Category
                        </span>
                    </div>                            
                    <div class="d-flex align-items-center justify-content-around" style="width: 75%; height: 40px; border: 1px solid #767676;">
                        @foreach (var category in Model.Categories.Select((item, index) => (item, index)).ToList())
                        {
                            <div class="form-check">
                                <input name="SelectedCategories" class="form-check-input" type="checkbox" value="@category.item.CategoryId" checked="@(Model.SearchPayload.SearchCondition.CategoryId != null && Model.SearchPayload.SearchCondition.CategoryId.Any(c => c == category.item.CategoryId))" />
                                <label class="form-check-label">
                                    @category.item.CategoryName
                                </label>
                            </div>
                            <input type="hidden" asp-for="@Model.Categories[category.index].CategoryId" />
                            <input type="hidden" asp-for="@Model.Categories[category.index].CategoryName" />                            
                        }
                    </div>

                </div>                
                <div class="d-flex justify-content-start">
                    <div class="d-flex justify-content-start mb-3 me-5">
                        <div class="label d-flex align-items-center me-3 p-1 px-3">
                            <span>
                                React
                            </span>
                        </div>
                        <div class="me-3">
                            <input asp-for="@Model.SearchPayload.SearchCondition.ReactFrom" type="number" class="form-control form-control-sm p-2" placeholder="From">
                        </div>
                        <div>
                            <input asp-for="@Model.SearchPayload.SearchCondition.ReactTo" type="number" class="form-control form-control-sm p-2" placeholder="To">
                        </div>
                    </div>
                    <div class="d-flex justify-content-start mb-3 me-5">
                        <div class="label d-flex align-items-center me-3 p-1 px-3">
                            <span>
                                Bookmark
                            </span>
                        </div>
                        <div class="me-3">
                            <input asp-for="@Model.SearchPayload.SearchCondition.BookmarkFrom" type="number" class="form-control form-control-sm p-2" placeholder="From">
                        </div>
                        <div>
                            <input asp-for="@Model.SearchPayload.SearchCondition.BookmarkTo" type="number" class="form-control form-control-sm p-2" placeholder="To">
                        </div>
                    </div>
                    <div class="d-flex justify-content-start mb-3">
                        <div class="label d-flex align-items-center me-3 p-1 px-3">
                            <span>
                                View
                            </span>
                        </div>
                        <div class="me-3">
                            <input asp-for="@Model.SearchPayload.SearchCondition.ViewFrom" type="number" class="form-control form-control-sm p-2" placeholder="From">
                        </div>
                        <div>
                            <input asp-for="@Model.SearchPayload.SearchCondition.ViewTo" type="number" class="form-control form-control-sm p-2" placeholder="To">
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-3">                    
                    <select name="SortDirection" class="custom-select custom-select-sm p-2 h-100" style="border-radius:2px;">
                        <option selected>Sort by</option>
                        <option value="@Model.SortASC" selected="@(Model.SearchPayload.SearchCondition.SortDirection != null && Model.SearchPayload.SearchCondition.SortDirection == Model.SortASC)">ASC</option>
                        <option value="@Model.SortDESC" selected="@(Model.SearchPayload.SearchCondition.SortDirection != null && Model.SearchPayload.SearchCondition.SortDirection == Model.SortDESC)">DESC</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="d-flex justify-content-end">
                    <button type="reset" class="btn btn-sm btn-outline-secondary px-4 py-2 me-4">Clean</button>
                    <button type="submit" class="closeModalBtn btn btn-secondary">Filter</button>
                </div>
            </div>
        </form>
    </div>
    <div class="title text-center mt-4">
        <h2 class="position-relative d-inline-block">My Artwork</h2>
    </div>
    <div class="artwork-grid">        
        <!-- Show list artwork -->
        <partial name="Shared/_ArtWorkListPartial" model="Model.PageResult.PageData" />
    </div>
    <div class="d-flex justify-content-center mt-3">
        <div class="text-center me-3">
            <button class="btn-primary mt-3 fs-6" style="border-radius: 0; width: 40px; height: 40px; padding: 0;">
                <i class="fa-solid fa-arrow-left"></i>
            </button>
        </div>
        <div class="text-center me-3">
            <button class="btn-primary mt-3 fs-6" style="border-radius: 0; width: 40px; height: 40px; padding: 0;">1</button>
        </div>


        <div class="text-center me-3">
            <button class="btn-primary mt-3 fs-6" style="border-radius: 0; width: 40px; height: 40px; padding: 0;">2</button>
        </div>
        <div class="text-center me-3" id="more-page" style="display: none;">
            <button class="btn-primary mt-3 fs-6" style="border-radius: 0; width: 40px; height: 40px; padding: 0;">3</button>
        </div>
        <div class="text-center">
            <button class="btn-primary mt-3 fs-6" style="border-radius: 0; width: 40px; height: 40px; padding: 0;">
                <i class="fa-solid fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- Popup show detail artwork -->
    <div class="modal fade" id="artworkDetailModal" tabindex="-1" role="dialog" aria-labelledby="artworkDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="artworkDetailModalLabel">Artwork Title</h5>
                    <button type="button" class="btn closeModalBtn">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary closeModalBtn" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-secondary">Edit</button>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script>    
    $(document).ready(function () {
        $('.artwork-item').on('click', function () {            
            $('#artworkDetailModalLabel').text('New Artwork Title');
            $('.modal-body').html('<img src="./images/CreatorProfile.jpg" alt="Artwork" class="img-fluid">   <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Non nulla saepe at nihil exercitationem rerum aliquid cum ea unde nam error praesentium hic explicabo consequatur, tenetur labore! Nostrum, recusandae pariatur!<p/>'
            );            
            $('#artworkDetailModal').modal('show');
        });
        $('.closeModalBtn').on('click', function () {
            $('#artworkDetailModal').modal('hide');
        });
    });

    function clearDateInput() {
        document.querySelector('input[type="date"]').value = ''; // Clear date input
    }

    function clearRadioButtons() {
        document.querySelectorAll('input[type="radio"]').forEach(function (radio) {
            radio.checked = false; // Uncheck all radio buttons
        });
    }
</script>